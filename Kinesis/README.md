# Kinesis

## 概要
覚書である。順次記載予定。

### 料金
シャード時間
  1 シャードは 1 MB/秒、または 1,000 レコード/秒の取り込み能力を提供します。
  データ消費者が拡張ファンアウトを利用することをオプトインする場合、各シャードは拡張ファンアウトを用いて各消費者に対し最大 2 MB/秒のデータ出力を提供します。
  データ消費者が拡張ファンアウトを利用しない場合、消費者がシャードから平行して処理するデータ数に関わらず、各シャードは最大 2 MB/秒のデータ出力を提供します。 

PUT ペイロードユニット (25 KB)
  レコードは、データ生成元が Amazon Kinesis ストリームに追加するデータのことです。PUT ペイロードユニットは、1 レコードを構成する 25 KB ペイロード (チャンク) で計算されます。例えば、5 KB のレコードは 1 つの PUT ペイロードユニット、45 KB のレコードは 2 つの PUT ペイロードユニット、1 MB のレコードは 40 の PUT ペイロードユニットが含まれます。PUT ペイロードユニットは、100 万件の PUT ペイロードごとに料金が発生します。

拡張ファンアウト
  拡張ファンアウトは、データ消費者にシャードあたり最大 2 MB/秒の読み取りスループットを提供し、読み取り並行処理を向上させます。消費者が拡張ファンアウトを使用する場合、消費者のシャード時間ごとに収集データの GB 単位で時間料金が発生します。

データ保持期間延長 (最長 7 日間)
  Amazon Kinesis では、データはデフォルトで 24 時間保存されます。ストリームデータの保持期間は最長 7 日間に延長できます。データ保持期間延長を有効化すると、ストリームにかかったシャード時間に対して追加料金が課金されます。


## 参考
[Amazon Kinesis Data Streams の料金](https://aws.amazon.com/jp/kinesis/data-streams/pricing/)  
[AWS Kinesis Stream を大規模データで検証してわかったことの事例紹介](https://tech.atware.co.jp/aws-kinesis-stream-poc/)
